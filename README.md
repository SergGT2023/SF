ФСТР (Федерация Спортивного Туризма России).</h2>

<h4>Для пользователя в мобильном приложении будут доступны следующие действия:</h4>
<p>- Внесение информации о новом объекте (перевале) в карточку объекта.</p>
<p>- Редактирование в приложении неотправленных на сервер ФСТР данных об объектах. На перевале не всегда работает Интернет.</p>
<p>- Заполнение ФИО и контактных данных (телефон и электронная почта) с последующим их автозаполнением при внесении данных о новых объектах.</p>
<p> Отправка данных на сервер ФСТР.</p>
<p>- Получение уведомления о статусе отправки (успешно/неуспешно).</p>
<p>- Согласие пользователя с политикой обработки персональных данных в случае нажатия на кнопку «Отправить» при отправке данных на сервер.</p>
<h4>Пользователь с помощью мобильного приложения также будет передавать в ФСТР следующие данные о перевале:</h4>
<p>- координаты перевала и его высота;</p>
<p>- имя пользователя;</p>
<p>- почта и телефон пользователя;</p>
<p>- название перевала;</p>
<p>- несколько фотографий перевала.</p>

<p>Допустимые значения поля status:

```
'new' - новая заявка(default-значение);
'pending' — на рассмотрении;
'accepted' — заявка принята;
'rejected' — заявка отклонена.
```

</p>
<h2>Описание методов API</h2>
<h4>Метод <i>POST</i> /submitData/</h4>
Этот метод принимает JSON в теле запроса с информацией о перевале.

Результатом выполнения метода является JSON-ответ содержащий следующие данные:
`'status'` + код HTTP, целое число:

```
 200 — запрос успешно обработан;
 400 — Bad Request (при нехватке полей);
 500 — ошибка при выполнении операции.
```

<p>
`message` — строка +
</p>
<a>
`Success` - если отправлено успешно
</a>
<a>или `Причина ошибки` - если она была
</a>
<p>
`id` —  идентификатор, который был присвоен объекту при добавлении в базу данных (если "status":200).
</p>

<h3>Метод <i>GET</i> /submitData/</h3>
Этот метод получает одну запись (перевал) по id с выведением всей информацию о перевале, в том числе статус модерации.



<h3>Метод <i>PATCH</i> /submitData/</h3>
Позволяет отредактировать существующую запись (замена), если она в статусе `new`. При этом редактировать можно все поля, кроме ФИО, адреса почты и номера телефона.
В качестве результата изменения приходит ответ содержащий следующие данные:

`state`:

```
1 — если успешно удалось отредактировать запись в базе данных.
0 — отредактировать запись не удалось.
```

`message`:
<a>- сообщение об успешном редактировании при `state=1`)</a>
<a>- сообщение о причине неудачного обновления записи при `state=0`)</a>

<h4>Примеры JSON-ответов:</h4>

```
{ "status": 200, "message": "Success", "state": 1 }
{ "status": 400, "message": "It's not a NEW status of the record", "state": 0}
```

<h3>Метод <i>GET+email</i> /submitData/?user_email=email</h3>

Возвращает данные всех объектов, отправленных на сервер пользователем с почтой email.
